{"version":3,"sources":["../../src/input/inputBindings.js"],"names":["format","pattern","tooltipShown","shake","value","inputValue","mask","onKeyValidation","result","placeholder","validationElement","hasFocus","disable","readonly","disabled","css","attr","maxlength","id","inputmask","ctx","timeFormat","classes","timepicker","data","title","disableHasFocus","$parents","filter","parent","jqAuto","source","autocompleteSource","valueProp","labelProp","inputProp","showAllAuto","options","showAllSearch","tokeninputValue","tokeninputSource","values","map","x","name","text","tokeninputDisable","hover","alias","autoUnmask","obj","datepicker","rawFormat","maxDate","minDate","enabledDate","disableWeekends","errorObservable","customError","errorMessage","disabledDateMessage","utc","datePlaceholder","resetShake","peek","isValid","isModified","event","blur","change","severity","forEach","val","console","error","optionsText","optionsValue","valueAllowUnset","foreach","checked","$parent","length","keyup","d","e","keyCode","undefined","visible","tooltip","label","required","showLabel","html","getValue","autosize"],"mappings":"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","file":"inputBindings.js","sourcesContent":["import { merge, has, get} from 'scalejs';\nimport * as format from 'js-format';\nimport 'knockout-jqautocomplete/build/knockout-jqAutocomplete';\nimport 'ko-bindings/showAllAuto';\nimport 'ko-bindings/timepicker';\n\nexport default {\n    'input-input': function () {\n        var pattern,\n            tooltipShown = this.tooltipShown,\n            shake = this.shake,\n            value = this.inputValue;\n\n        if (typeof this.pattern === 'string') {\n            pattern = {\n                mask: this.pattern\n            }\n        } else {\n            pattern = this.pattern;\n        }\n        if (pattern) {\n            pattern.onKeyValidation = function (result) {\n                tooltipShown(!result);\n                shake(!result);\n            }\n            pattern.placeholder = ' ';\n        }\n\n        return {\n            value: value,\n            validationElement: false,\n            hasFocus: this.hasFocus,\n            disable: this.readonly() || this.disabled(),\n            css: { 'animated shake': this.shake },\n            attr: {\n                readonly: this.readonly(),\n                maxlength: this.maxlength,\n                'data-id': this.id\n            },\n            inputmask: pattern\n        };\n    },\n    'input-time': function (ctx) {\n      var tooltipShown = this.tooltipShown,\n          shake = this.shake,\n          value = this.inputValue,\n          timeFormat = this.timeFormat,\n          css = { 'animated shake': shake };\n\n      if (this.classes) {\n        css[this.classes] = true;\n      }\n      return {\n        timepicker: {\n          data: value,\n          timeFormat: timeFormat\n        },\n        validationElement: false,\n        hasFocus: this.hasFocus,\n        disable: this.readonly() || this.disabled(),\n        css: css,\n        attr: {\n            readonly: this.readonly(),\n            'data-id': this.id,\n            title: value\n        }\n      }\n    },\n    'input-autocomplete': function (ctx) {\n        var pattern,\n            tooltipShown = this.tooltipShown,\n            value = this.inputValue,\n            disabled = this.readonly() ? true : false;\n        var disableHasFocus = ctx.$parents.filter(function (parent) {\n            return parent.disableHasFocus;\n        })[0];\n        if (typeof this.pattern === 'string') {\n            pattern = {\n                mask: this.pattern\n            }\n        } else {\n            pattern = this.pattern;\n        }\n        if (pattern) {\n            pattern.onKeyValidation = function (result) {\n                tooltipShown(!result);\n            }\n        }\n\n        return {\n            jqAuto: {\n                value: value,\n                source: this.autocompleteSource,\n                valueProp: 'value',\n                labelProp: 'label',\n                inputProp: this.inputProp || 'label'\n                    //disabled: disabled\n                    //Note: pasing disabled to the jquery autocomplete control might have unexpected behaviour\n                    //the options get passed straight thru to the jquery autocomplete\n                    //if disabled changes, will the binding be re-initialized? Not sure\n                    //this is why i created this issue to ask the creator of bindings\n                    //https://github.com/rniemeyer/knockout-classBindingProvider/issues/23\n\n            },\n            attr: {\n                readonly: this.readonly(),\n                'data-id': this.id\n            },\n            hasFocus: !disableHasFocus && this.hasFocus,\n            validationElement: false,\n            showAllAuto: has(this.options.showAllSearch) ? this.options.showAllSearch : '',\n            disable: disabled // use knockout disable binding - its sufficient. See \"showAllAuto\" binding for more details\n        }\n    },\n    'input-multiselect': function () {\n        return {\n            tokeninputValue: this.inputValue,\n            tokeninputSource: this.values().map(function (x) {\n                return {\n                    id: x.value || x,\n                    name: x.text || x\n                };\n            }),\n            tokeninputDisable: this.readonly\n        };\n    },\n    'input-datepicker': function (ctx) {\n        var options = this.options,\n            hover = this.hover,\n            pattern;\n\n        //when will datepicker be anything but a date? do we need the pattern?\n        // if (typeof this.pattern === 'string') {\n        //     pattern = {\n        //         mask: this.pattern\n        //     };\n        // } else if (this.pattern) {\n        //     pattern = this.pattern;\n        // } else {\n            pattern = {\n                alias: 'date'\n            };\n        // }\n        pattern.autoUnmask = false; // do we still need?\n        // pattern.insertMode = true;\n\n        var obj = {\n            hover: this.hover,\n            datepicker: {\n                data: this.inputValue,\n                rawFormat: options.rawFormat || 'YYYY-MM-DD',\n                format: options.format || 'MM/DD/YYYY',\n                maxDate: options.maxDate,\n                minDate: options.minDate,\n                enabledDate: options.enabledDate,\n                disableWeekends: options.disableWeekends,\n                errorObservable: this.customError,\n                errorMessage: options.disabledDateMessage,\n                utc: options.utc\n            },\n            validationElement: false,\n            hasFocus: this.hasFocus,\n            disable: this.readonly,\n            attr: {\n                readonly: this.readonly(),\n                maxlength: this.maxlength,\n                placeholder: this.datePlaceholder,\n                'data-id': this.id\n            },\n            inputmask: pattern\n        };\n        return obj;\n    },\n    'input-validation-checker': function (ctx) {\n        var value = this.inputValue,\n            shake = this.shake,\n            tooltipShown = this.tooltipShown,\n            customError = this.customError;\n\n\n        var resetShake = function () {\n            if (customError.peek()) {\n                return true; // dont shake if there is still a server error\n            }\n            if (value.isValid && value.isValid() && value.isModified()) {\n                shake(false);\n                tooltipShown(false);\n            }\n            if (value.isValid && !value.isValid() && value.isModified()) {\n                shake(true);\n                tooltipShown(true);\n            }\n            return true;\n        }\n\n        return {\n            event: {\n                blur: resetShake,\n                change: resetShake\n            },\n            css: {\n                'animated shake': this.shake,\n                'error': value.isModified() && !value.isValid() && value.severity() === 1,\n                'warning': value.isModified() && !value.isValid() && value.severity() === 2,\n                'validated': value.isModified() && !value.isValid() && value.severity() === 3\n            }\n        };\n    },\n    'input-select': function (ctx) {\n        // if values contains a string, throw an error\n        (this.values() || []).forEach(function (val) {\n            if (typeof val === 'string') {\n                console.error('Values must not contain strings!!', ctx);\n            }\n        });\n\n        return {\n            value: this.inputValue,\n            hasFocus: this.hasFocus,\n            validationElement: false,\n            options: this.values,\n            attr: {\n                disabled: this.readonly,\n                'data-id': this.id\n            },\n            optionsText: 'text',\n            optionsValue: 'value',\n            valueAllowUnset: true\n        };\n    },\n    'input-checkbox': function () {\n        return {\n            foreach: this.values\n\n        };\n    },\n    'input-checkbox-button': function (ctx) {\n        return {\n            checked: this.values,\n            value: this.options.checked,\n            attr: {\n                disabled: this.readonly(),\n                id: this.id\n            }\n        };\n    },\n    'input-checkbox-button-group': function (ctx) {\n        return {\n            value: this['value'],\n            attr: {\n                disabled: ctx.$parent.readonly(),\n            },\n            checked: ctx.$parent.inputValue,\n        };\n    },\n    'input-radio': function () {\n        if (this.values().length === 0) {\n            this.values([\n                { text: 'Yes', value: get(this, 'yesValue', true) },\n                { text: 'No', value: get(this, 'noValue', false) }\n            ]);\n        }\n\n        var values = this.values().map(function (val) {\n            if (typeof val === 'string') {\n                return {\n                    text: val,\n                    value: val\n                }\n            }\n            return val;\n        })\n\n        return {\n            foreach: values\n        };\n    },\n    'input-radio-button': function (ctx) {\n        return {\n            value: this.value,\n            checked: ctx.$parent.inputValue,\n            attr: {\n                disabled: ctx.$parent.readonly()\n            },\n            event: {\n                // for 508\n                keyup: function (d, e) {\n                    if (e.keyCode === 13) {\n                        if (ctx.$parent.inputValue() === this.value) {\n                            ctx.$parent.inputValue(undefined);\n                        } else {\n                            ctx.$parent.inputValue(this.value);\n                        }\n                    }\n                }\n            }\n        }\n    },\n    'input-validation': function (ctx) {\n        var inputValue = this.inputValue,\n            visible = !this.tooltip ?\n                inputValue.isModified() && !inputValue.isValid() :\n                inputValue.isModified() && !inputValue.isValid() && !this.hasFocus();\n\n        if (!inputValue.isValid) {\n            return {}; // no validation on input, no binding needed\n        }\n\n        return {\n            visible: visible,\n            text: inputValue.error,\n            css: {\n                'validation-message': true,\n                'error': inputValue.severity() === 1,\n                'warning': inputValue.severity() === 2,\n                'validated': inputValue.severity() === 3\n            }\n        };\n    },\n    'input-tooltip': function () {\n        var value = this.inputValue;\n\n        return {\n            visible: this.tooltipShown() && this.hasFocus() && this.tooltip,\n            text: this.tooltip,\n            css: {\n                'validation-message': true,\n                'tooltip': true,\n                'error': value.isModified() && !value.isValid()\n                && value.severity() === 1,\n                'warning': value.isModified() && !value.isValid()\n                && value.severity() !== 1\n            }\n        };\n    },\n    'input-color-text': function () {\n        var value = this.inputValue;\n\n        return {\n            css: {\n                'color-error': value.isModified() && !value.isValid()\n                && value.severity() === 1,\n                'color-warning': value.isModified() && !value.isValid()\n                && value.severity() !== 1,\n                'color-validated': value.isModified() && !value.isValid()\n                && value.severity() !== 1\n            }\n        };\n    },\n    'input-labels': function () {\n        var label = this.label,\n            required = this.required ? '<span class=\"input-required-label\">*</span> ' : '';\n\n        var showLabel = true;\n        if (this.options) {\n            showLabel = this.options.showLabel === false ? false : showLabel;\n        }\n\n        return {\n            html: required + label,\n            visible: showLabel\n        };\n    },\n    'input-labels-only': function () {\n        return {\n            text: this.getValue()\n        }\n    },\n    'input-autosize': function () {\n        return {\n            autosize: true,\n            attr: {\n                disabled: this.readonly()\n            }\n        }\n    }\n}\n"]}