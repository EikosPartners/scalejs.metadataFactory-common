{"version":3,"sources":["../../src/input/inputBindings.js"],"names":["format","pattern","tooltipShown","shake","value","inputValue","mask","onKeyValidation","result","placeholder","validationElement","hasFocus","disable","readonly","disabled","css","attr","maxlength","id","inputmask","ctx","timeFormat","classes","timepicker","data","title","disableHasFocus","$parents","filter","parent","jqAuto","source","autocompleteSource","valueProp","labelProp","inputProp","showAllAuto","options","showAllSearch","tokeninputValue","tokeninputSource","values","map","x","name","text","tokeninputDisable","hover","alias","autoUnmask","obj","datepicker","rawFormat","maxDate","minDate","enabledDate","disableWeekends","errorObservable","customError","errorMessage","disabledDateMessage","utc","datePlaceholder","resetShake","peek","isValid","isModified","event","blur","change","severity","forEach","val","console","error","optionsText","optionsValue","valueAllowUnset","foreach","checked","$parent","length","keyup","d","e","keyCode","undefined","visible","tooltip","label","required","showLabel","html","getValue","autosize"],"mappings":"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","file":"inputBindings.js","sourcesContent":["import { merge, has, get} from 'scalejs';\r\nimport * as format from 'js-format';\r\nimport 'knockout-jqautocomplete/build/knockout-jqAutocomplete';\r\nimport 'ko-bindings/showAllAuto';\r\nimport 'ko-bindings/timepicker';\r\n\r\nexport default {\r\n    'input-input': function () {\r\n        var pattern,\r\n            tooltipShown = this.tooltipShown,\r\n            shake = this.shake,\r\n            value = this.inputValue;\r\n\r\n        if (typeof this.pattern === 'string') {\r\n            pattern = {\r\n                mask: this.pattern\r\n            }\r\n        } else {\r\n            pattern = this.pattern;\r\n        }\r\n        if (pattern) {\r\n            pattern.onKeyValidation = function (result) {\r\n                tooltipShown(!result);\r\n                shake(!result);\r\n            }\r\n            pattern.placeholder = ' ';\r\n        }\r\n\r\n        return {\r\n            value: value,\r\n            validationElement: false,\r\n            hasFocus: this.hasFocus,\r\n            disable: this.readonly() || this.disabled(),\r\n            css: { 'animated shake': this.shake },\r\n            attr: {\r\n                readonly: this.readonly(),\r\n                maxlength: this.maxlength,\r\n                'data-id': this.id\r\n            },\r\n            inputmask: pattern\r\n        };\r\n    },\r\n    'input-time': function (ctx) {\r\n      var tooltipShown = this.tooltipShown,\r\n          shake = this.shake,\r\n          value = this.inputValue,\r\n          timeFormat = this.timeFormat,\r\n          css = { 'animated shake': shake };\r\n\r\n      if (this.classes) {\r\n        css[this.classes] = true;\r\n      }\r\n      return {\r\n        timepicker: {\r\n          data: value,\r\n          timeFormat: timeFormat\r\n        },\r\n        validationElement: false,\r\n        hasFocus: this.hasFocus,\r\n        disable: this.readonly() || this.disabled(),\r\n        css: css,\r\n        attr: {\r\n            readonly: this.readonly(),\r\n            'data-id': this.id,\r\n            title: value\r\n        }\r\n      }\r\n    },\r\n    'input-autocomplete': function (ctx) {\r\n        var pattern,\r\n            tooltipShown = this.tooltipShown,\r\n            value = this.inputValue,\r\n            disabled = this.readonly() ? true : false;\r\n        var disableHasFocus = ctx.$parents.filter(function (parent) {\r\n            return parent.disableHasFocus;\r\n        })[0];\r\n        if (typeof this.pattern === 'string') {\r\n            pattern = {\r\n                mask: this.pattern\r\n            }\r\n        } else {\r\n            pattern = this.pattern;\r\n        }\r\n        if (pattern) {\r\n            pattern.onKeyValidation = function (result) {\r\n                tooltipShown(!result);\r\n            }\r\n        }\r\n\r\n        return {\r\n            jqAuto: {\r\n                value: value,\r\n                source: this.autocompleteSource,\r\n                valueProp: 'value',\r\n                labelProp: 'label',\r\n                inputProp: this.inputProp || 'label'\r\n                    //disabled: disabled\r\n                    //Note: pasing disabled to the jquery autocomplete control might have unexpected behaviour\r\n                    //the options get passed straight thru to the jquery autocomplete\r\n                    //if disabled changes, will the binding be re-initialized? Not sure\r\n                    //this is why i created this issue to ask the creator of bindings\r\n                    //https://github.com/rniemeyer/knockout-classBindingProvider/issues/23\r\n\r\n            },\r\n            attr: {\r\n                readonly: this.readonly(),\r\n                'data-id': this.id\r\n            },\r\n            hasFocus: !disableHasFocus && this.hasFocus,\r\n            validationElement: false,\r\n            showAllAuto: has(this.options.showAllSearch) ? this.options.showAllSearch : '',\r\n            disable: disabled // use knockout disable binding - its sufficient. See \"showAllAuto\" binding for more details\r\n        }\r\n    },\r\n    'input-multiselect': function () {\r\n        return {\r\n            tokeninputValue: this.inputValue,\r\n            tokeninputSource: this.values().map(function (x) {\r\n                return {\r\n                    id: x.value || x,\r\n                    name: x.text || x\r\n                };\r\n            }),\r\n            tokeninputDisable: this.readonly\r\n        };\r\n    },\r\n    'input-datepicker': function (ctx) {\r\n        var options = this.options,\r\n            hover = this.hover,\r\n            pattern;\r\n\r\n        //when will datepicker be anything but a date? do we need the pattern?\r\n        // if (typeof this.pattern === 'string') {\r\n        //     pattern = {\r\n        //         mask: this.pattern\r\n        //     };\r\n        // } else if (this.pattern) {\r\n        //     pattern = this.pattern;\r\n        // } else {\r\n            pattern = {\r\n                alias: 'date'\r\n            };\r\n        // }\r\n        pattern.autoUnmask = false; // do we still need?\r\n        // pattern.insertMode = true;\r\n\r\n        var obj = {\r\n            hover: this.hover,\r\n            datepicker: {\r\n                data: this.inputValue,\r\n                rawFormat: options.rawFormat || 'YYYY-MM-DD',\r\n                format: options.format || 'MM/DD/YYYY',\r\n                maxDate: options.maxDate,\r\n                minDate: options.minDate,\r\n                enabledDate: options.enabledDate,\r\n                disableWeekends: options.disableWeekends,\r\n                errorObservable: this.customError,\r\n                errorMessage: options.disabledDateMessage,\r\n                utc: options.utc\r\n            },\r\n            validationElement: false,\r\n            hasFocus: this.hasFocus,\r\n            disable: this.readonly,\r\n            attr: {\r\n                readonly: this.readonly(),\r\n                maxlength: this.maxlength,\r\n                placeholder: this.datePlaceholder,\r\n                'data-id': this.id\r\n            },\r\n            inputmask: pattern\r\n        };\r\n        return obj;\r\n    },\r\n    'input-validation-checker': function (ctx) {\r\n        var value = this.inputValue,\r\n            shake = this.shake,\r\n            tooltipShown = this.tooltipShown,\r\n            customError = this.customError;\r\n\r\n\r\n        var resetShake = function () {\r\n            if (customError.peek()) {\r\n                return true; // dont shake if there is still a server error\r\n            }\r\n            if (value.isValid && value.isValid() && value.isModified()) {\r\n                shake(false);\r\n                tooltipShown(false);\r\n            }\r\n            if (value.isValid && !value.isValid() && value.isModified()) {\r\n                shake(true);\r\n                tooltipShown(true);\r\n            }\r\n            return true;\r\n        }\r\n\r\n        return {\r\n            event: {\r\n                blur: resetShake,\r\n                change: resetShake\r\n            },\r\n            css: {\r\n                'animated shake': this.shake,\r\n                'error': value.isModified() && !value.isValid() && value.severity() === 1,\r\n                'warning': value.isModified() && !value.isValid() && value.severity() === 2,\r\n                'validated': value.isModified() && !value.isValid() && value.severity() === 3\r\n            }\r\n        };\r\n    },\r\n    'input-select': function (ctx) {\r\n        // if values contains a string, throw an error\r\n        (this.values() || []).forEach(function (val) {\r\n            if (typeof val === 'string') {\r\n                console.error('Values must not contain strings!!', ctx);\r\n            }\r\n        });\r\n\r\n        return {\r\n            value: this.inputValue,\r\n            hasFocus: this.hasFocus,\r\n            validationElement: false,\r\n            options: this.values,\r\n            attr: {\r\n                disabled: this.readonly,\r\n                'data-id': this.id\r\n            },\r\n            optionsText: 'text',\r\n            optionsValue: 'value',\r\n            valueAllowUnset: true\r\n        };\r\n    },\r\n    'input-checkbox': function () {\r\n        return {\r\n            foreach: this.values\r\n\r\n        };\r\n    },\r\n    'input-checkbox-button': function (ctx) {\r\n        return {\r\n            checked: this.values,\r\n            value: this.options.checked,\r\n            attr: {\r\n                disabled: this.readonly(),\r\n                id: this.id\r\n            }\r\n        };\r\n    },\r\n    'input-checkbox-button-group': function (ctx) {\r\n        return {\r\n            value: this['value'],\r\n            attr: {\r\n                disabled: ctx.$parent.readonly(),\r\n            },\r\n            checked: ctx.$parent.inputValue,\r\n        };\r\n    },\r\n    'input-radio': function () {\r\n        if (this.values().length === 0) {\r\n            this.values([\r\n                { text: 'Yes', value: get(this, 'yesValue', true) },\r\n                { text: 'No', value: get(this, 'noValue', false) }\r\n            ]);\r\n        }\r\n\r\n        var values = this.values().map(function (val) {\r\n            if (typeof val === 'string') {\r\n                return {\r\n                    text: val,\r\n                    value: val\r\n                }\r\n            }\r\n            return val;\r\n        })\r\n\r\n        return {\r\n            foreach: values\r\n        };\r\n    },\r\n    'input-radio-button': function (ctx) {\r\n        return {\r\n            value: this.value,\r\n            checked: ctx.$parent.inputValue,\r\n            attr: {\r\n                disabled: ctx.$parent.readonly()\r\n            },\r\n            event: {\r\n                // for 508\r\n                keyup: function (d, e) {\r\n                    if (e.keyCode === 13) {\r\n                        if (ctx.$parent.inputValue() === this.value) {\r\n                            ctx.$parent.inputValue(undefined);\r\n                        } else {\r\n                            ctx.$parent.inputValue(this.value);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    'input-validation': function (ctx) {\r\n        var inputValue = this.inputValue,\r\n            visible = !this.tooltip ?\r\n                inputValue.isModified() && !inputValue.isValid() :\r\n                inputValue.isModified() && !inputValue.isValid() && !this.hasFocus();\r\n\r\n        if (!inputValue.isValid) {\r\n            return {}; // no validation on input, no binding needed\r\n        }\r\n\r\n        return {\r\n            visible: visible,\r\n            text: inputValue.error,\r\n            css: {\r\n                'validation-message': true,\r\n                'error': inputValue.severity() === 1,\r\n                'warning': inputValue.severity() === 2,\r\n                'validated': inputValue.severity() === 3\r\n            }\r\n        };\r\n    },\r\n    'input-tooltip': function () {\r\n        var value = this.inputValue;\r\n\r\n        return {\r\n            visible: this.tooltipShown() && this.hasFocus() && this.tooltip,\r\n            text: this.tooltip,\r\n            css: {\r\n                'validation-message': true,\r\n                'tooltip': true,\r\n                'error': value.isModified() && !value.isValid()\r\n                && value.severity() === 1,\r\n                'warning': value.isModified() && !value.isValid()\r\n                && value.severity() !== 1\r\n            }\r\n        };\r\n    },\r\n    'input-color-text': function () {\r\n        var value = this.inputValue;\r\n\r\n        return {\r\n            css: {\r\n                'color-error': value.isModified() && !value.isValid()\r\n                && value.severity() === 1,\r\n                'color-warning': value.isModified() && !value.isValid()\r\n                && value.severity() !== 1,\r\n                'color-validated': value.isModified() && !value.isValid()\r\n                && value.severity() !== 1\r\n            }\r\n        };\r\n    },\r\n    'input-labels': function () {\r\n        var label = this.label,\r\n            required = this.required ? '<span class=\"input-required-label\">*</span> ' : '';\r\n\r\n        var showLabel = true;\r\n        if (this.options) {\r\n            showLabel = this.options.showLabel === false ? false : showLabel;\r\n        }\r\n\r\n        return {\r\n            html: required + label,\r\n            visible: showLabel\r\n        };\r\n    },\r\n    'input-labels-only': function () {\r\n        return {\r\n            text: this.getValue()\r\n        }\r\n    },\r\n    'input-autosize': function () {\r\n        return {\r\n            autosize: true,\r\n            attr: {\r\n                disabled: this.readonly()\r\n            }\r\n        }\r\n    }\r\n}\r\n"]}