{"version":3,"sources":["../../src/tabs/tabsBindings.js"],"names":["tabsTab","ctx","nextTab","nextHeader","hasChild","isChild","tabDef","options","classes","$index","$parent","tabs","length","headers","css","on","isActive","childActive","childTab","split","forEach","className","visible","click","setActiveTab","bind","parentTab","fontIcon","clickBubble"],"mappings":";;;;;;AAAA;;AACA;;kBAEe;AACX,gBAAY,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AAC9B,YAAIC,OAAJ;AAAA,YACIC,UADJ;AAAA,YAEIC,QAFJ;AAAA,YAGIC,OAHJ;AAAA,YAIIA,UAAU,KAAKC,MAAL,CAAYC,OAAZ,IAAuB,KAAKD,MAAL,CAAYC,OAAZ,CAAoBF,OAJzD;AAAA,YAKIG,UAAU,KAAKF,MAAL,CAAYE,OAL1B;;AAOA,YAAIP,IAAIQ,MAAJ,KAAe,CAAf,GAAmBR,IAAIS,OAAJ,CAAYC,IAAZ,CAAiBC,MAAxC,EAAgD;AAC5CV,sBAAUD,IAAIS,OAAJ,CAAYC,IAAZ,CAAiBV,IAAIQ,MAAJ,KAAe,CAAhC,CAAV;AACAN,yBAAaF,IAAIS,OAAJ,CAAYG,OAAZ,CAAoBZ,IAAIQ,MAAJ,KAAe,CAAnC,CAAb;AACAL,uBAAWD,WAAWI,OAAX,IAAsBJ,WAAWI,OAAX,CAAmBF,OAApD;AACH;;AAED,YAAIS,MAAM;AACNC,gBAAI,KAAKC,QADH;AAENC,yBAAab,YAAYF,QAAQc,QAF3B;AAGNE,sBAAUb;AAHJ,SAAV;;AAMA,YAAIG,OAAJ,EAAa;AACTA,oBAAQW,KAAR,CAAc,GAAd,EAAmBC,OAAnB,CAA2B,UAAUC,SAAV,EAAqB;AAC5C;AACAP,oBAAIO,SAAJ,IAAiB,IAAjB;AACH,aAHD;AAKH;AACD,eAAO;AACHC,qBAAS,CAACjB,OAAD,IAAY,KAAKW,QADvB;AAEHF,iBAAKA,GAFF;AAGHS,mBAAO,KAAKC,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,EAA6B,IAA7B;AAHJ,SAAP;AAKH,KAjCU;AAkCX,uBAAmB,wBAAUxB,GAAV,EAAe;AAC9B,YAAII,OAAJ,EAAaqB,SAAb;;AAEArB,kBAAU,KAAKC,MAAL,CAAYC,OAAZ,IAAuB,KAAKD,MAAL,CAAYC,OAAZ,CAAoBF,OAArD;AACAqB,oBAAYrB,UAAUJ,IAAIS,OAAJ,CAAYC,IAAZ,CAAiBV,IAAIQ,MAAJ,KAAe,CAAhC,CAAV,GAA+C,IAA3D;;AAGA,eAAO;AACHa,qBAASjB,OADN;AAEHsB,sBAAU,iBAFP;AAGHJ,mBAAOG,YAAYA,UAAUF,YAAV,CAAuBC,IAAvB,CAA4B,IAA5B,EAAkC,IAAlC,CAAZ,GAAsD,YAAY,CAAG,CAHzE;AAIHG,yBAAa;AAJV,SAAP;AAMH;AA/CU,C","file":"tabsBindings.js","sourcesContent":["import { is, get } from 'scalejs';\r\nimport { unwrap } from 'knockout';\r\n\r\nexport default {\r\n    'tabs-tab': function tabsTab(ctx) {\r\n        var nextTab,\r\n            nextHeader,\r\n            hasChild,\r\n            isChild,\r\n            isChild = this.tabDef.options && this.tabDef.options.isChild,\r\n            classes = this.tabDef.classes;\r\n\r\n        if (ctx.$index() + 1 < ctx.$parent.tabs.length) {\r\n            nextTab = ctx.$parent.tabs[ctx.$index() + 1];\r\n            nextHeader = ctx.$parent.headers[ctx.$index() + 1];\r\n            hasChild = nextHeader.options && nextHeader.options.isChild;\r\n        }\r\n\r\n        let css = {\r\n            on: this.isActive,\r\n            childActive: hasChild && nextTab.isActive,\r\n            childTab: isChild\r\n        };\r\n\r\n        if (classes) {\r\n            classes.split(' ').forEach(function (className) {\r\n                //add class to css object \r\n                css[className] = true;\r\n            });\r\n\r\n        }\r\n        return {\r\n            visible: !isChild || this.isActive,\r\n            css: css,\r\n            click: this.setActiveTab.bind(null, null)\r\n        };\r\n    },\r\n    'tabs-closeChild': function (ctx) {\r\n        var isChild, parentTab;\r\n\r\n        isChild = this.tabDef.options && this.tabDef.options.isChild;\r\n        parentTab = isChild ? ctx.$parent.tabs[ctx.$index() - 1] : null;\r\n\r\n\r\n        return {\r\n            visible: isChild,\r\n            fontIcon: 'icon-table-x-td', \r\n            click: parentTab ? parentTab.setActiveTab.bind(null, null) : function () { },\r\n            clickBubble: false\r\n        };\r\n    }\r\n};\r\n\r\n"]}