{"version":3,"sources":["../../src/tabs/tabsBindings.js"],"names":["tabsTab","ctx","nextTab","nextHeader","hasChild","isChild","tabDef","options","classes","$index","$parent","tabs","length","headers","css","on","isActive","childActive","childTab","split","forEach","className","visible","click","setActiveTab","bind","parentTab","fontIcon","clickBubble"],"mappings":";;;;;;AAAA;;AACA;;kBAEe;AACX,gBAAY,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AAC9B,YAAIC,OAAJ;AAAA,YACIC,UADJ;AAAA,YAEIC,QAFJ;AAAA,YAGIC,OAHJ;AAAA,YAIIA,UAAU,KAAKC,MAAL,CAAYC,OAAZ,IAAuB,KAAKD,MAAL,CAAYC,OAAZ,CAAoBF,OAJzD;AAAA,YAKIG,UAAU,KAAKF,MAAL,CAAYE,OAL1B;;AAOA,YAAIP,IAAIQ,MAAJ,KAAe,CAAf,GAAmBR,IAAIS,OAAJ,CAAYC,IAAZ,CAAiBC,MAAxC,EAAgD;AAC5CV,sBAAUD,IAAIS,OAAJ,CAAYC,IAAZ,CAAiBV,IAAIQ,MAAJ,KAAe,CAAhC,CAAV;AACAN,yBAAaF,IAAIS,OAAJ,CAAYG,OAAZ,CAAoBZ,IAAIQ,MAAJ,KAAe,CAAnC,CAAb;AACAL,uBAAWD,WAAWI,OAAX,IAAsBJ,WAAWI,OAAX,CAAmBF,OAApD;AACH;;AAED,YAAIS,MAAM;AACNC,gBAAI,KAAKC,QADH;AAENC,yBAAab,YAAYF,QAAQc,QAF3B;AAGNE,sBAAUb;AAHJ,SAAV;;AAMA,YAAIG,OAAJ,EAAa;AACTA,oBAAQW,KAAR,CAAc,GAAd,EAAmBC,OAAnB,CAA2B,UAAUC,SAAV,EAAqB;AAC5C;AACAP,oBAAIO,SAAJ,IAAiB,IAAjB;AACH,aAHD;AAKH;AACD,eAAO;AACHC,qBAAS,CAACjB,OAAD,IAAY,KAAKW,QADvB;AAEHF,iBAAKA,GAFF;AAGHS,mBAAO,KAAKC,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,EAA6B,IAA7B;AAHJ,SAAP;AAKH,KAjCU;AAkCX,uBAAmB,wBAAUxB,GAAV,EAAe;AAC9B,YAAII,OAAJ,EAAaqB,SAAb;;AAEArB,kBAAU,KAAKC,MAAL,CAAYC,OAAZ,IAAuB,KAAKD,MAAL,CAAYC,OAAZ,CAAoBF,OAArD;AACAqB,oBAAYrB,UAAUJ,IAAIS,OAAJ,CAAYC,IAAZ,CAAiBV,IAAIQ,MAAJ,KAAe,CAAhC,CAAV,GAA+C,IAA3D;;AAGA,eAAO;AACHa,qBAASjB,OADN;AAEHsB,sBAAU,iBAFP;AAGHJ,mBAAOG,YAAYA,UAAUF,YAAV,CAAuBC,IAAvB,CAA4B,IAA5B,EAAkC,IAAlC,CAAZ,GAAsD,YAAY,CAAG,CAHzE;AAIHG,yBAAa;AAJV,SAAP;AAMH;AA/CU,C","file":"tabsBindings.js","sourcesContent":["import { is, get } from 'scalejs';\nimport { unwrap } from 'knockout';\n\nexport default {\n    'tabs-tab': function tabsTab(ctx) {\n        var nextTab,\n            nextHeader,\n            hasChild,\n            isChild,\n            isChild = this.tabDef.options && this.tabDef.options.isChild,\n            classes = this.tabDef.classes;\n\n        if (ctx.$index() + 1 < ctx.$parent.tabs.length) {\n            nextTab = ctx.$parent.tabs[ctx.$index() + 1];\n            nextHeader = ctx.$parent.headers[ctx.$index() + 1];\n            hasChild = nextHeader.options && nextHeader.options.isChild;\n        }\n\n        let css = {\n            on: this.isActive,\n            childActive: hasChild && nextTab.isActive,\n            childTab: isChild\n        };\n\n        if (classes) {\n            classes.split(' ').forEach(function (className) {\n                //add class to css object \n                css[className] = true;\n            });\n\n        }\n        return {\n            visible: !isChild || this.isActive,\n            css: css,\n            click: this.setActiveTab.bind(null, null)\n        };\n    },\n    'tabs-closeChild': function (ctx) {\n        var isChild, parentTab;\n\n        isChild = this.tabDef.options && this.tabDef.options.isChild;\n        parentTab = isChild ? ctx.$parent.tabs[ctx.$index() - 1] : null;\n\n\n        return {\n            visible: isChild,\n            fontIcon: 'icon-table-x-td', \n            click: parentTab ? parentTab.setActiveTab.bind(null, null) : function () { },\n            clickBubble: false\n        };\n    }\n};\n\n"]}