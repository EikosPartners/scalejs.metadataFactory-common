{"version":3,"sources":["../../src/setValue/setValueViewModel.js"],"names":["setValueViewModel","node","context","data","subscribe","dict","dictionary","Object","keys","forEach","_setValue","clear","id","setValue","hasOwnProperty","initial","unwrap","mappedChildNodes"],"mappings":";;;;;kBAEwBA,iB;;AAFxB;;;;;;AAEe,SAASA,iBAAT,CAA2BC,IAA3B,EAAiC;AAC5C,QAAIC,UAAU,IAAd;;AAEA,QAAIA,QAAQC,IAAZ,EAAkB;AACdD,gBAAQC,IAAR,CAAaC,SAAb,CAAuB,gBAAQ;AAC3B,gBAAIC,OAAOH,QAAQI,UAAR,EAAX;AACAC,mBAAOC,IAAP,CAAYH,IAAZ,EAAkBI,OAAlB,CAA0B,UAAUR,IAAV,EAAgB;AACtCS,0BAAUL,KAAKJ,IAAL,CAAV,EAAsBE,IAAtB;AACH,aAFD;AAGH,SALD;AAMH;;AAED,aAASO,SAAT,CAAmBT,IAAnB,EAAyBE,IAAzB,EAA+BQ,KAA/B,EAAsC;AAClC,YAAIV,KAAKW,EAAL,IAAWX,KAAKY,QAAhB,KAA6BV,KAAKW,cAAL,CAAoBb,KAAKW,EAAzB,KAAgCD,KAA7D,CAAJ,EAAyE;AACrEV,iBAAKY,QAAL,CAAcV,KAAKF,KAAKW,EAAV,CAAd,EAA6B,EAAEG,SAAS,IAAX,EAA7B,EADqE,CACpB;AACpD;AACD,SAAC,mBAAGC,MAAH,CAAUf,KAAKgB,gBAAf,KAAoC,EAArC,EAAyCR,OAAzC,CAAiD,UAAUR,IAAV,EAAgB;AAC7DS,sBAAUT,IAAV,EAAgBE,IAAhB,EAAsBQ,KAAtB;AACH,SAFD;AAGH;AACJ","file":"setValueViewModel.js","sourcesContent":["import ko from 'knockout';\n\nexport default function setValueViewModel(node) {\n    let context = this;\n\n    if (context.data) {\n        context.data.subscribe(data => {\n            let dict = context.dictionary();\n            Object.keys(dict).forEach(function (node) {\n                _setValue(dict[node], data);\n            })\n        })\n    }\n\n    function _setValue(node, data, clear) {\n        if (node.id && node.setValue && (data.hasOwnProperty(node.id) || clear)) {\n            node.setValue(data[node.id], { initial: true }); //pass as object with value key?\n        }\n        (ko.unwrap(node.mappedChildNodes) || []).forEach(function (node) {\n            _setValue(node, data, clear);\n        });\n    }\n};\n"]}