{"version":3,"sources":["../../src/setValue/setValueViewModel.js"],"names":[],"mappings":";;;;;kBAEwB,iB;;AAFxB;;;;;;AAEe,SAAS,iBAAT,CAA2B,IAA3B,EAAiC;AAC5C,QAAI,UAAU,IAAd;;AAEA,QAAI,QAAQ,IAAZ,EAAkB;AACd,gBAAQ,IAAR,CAAa,SAAb,CAAuB,gBAAQ;AAC3B,gBAAI,OAAO,QAAQ,UAAR,EAAX;AACA,mBAAO,IAAP,CAAY,IAAZ,EAAkB,OAAlB,CAA0B,UAAU,IAAV,EAAgB;AACtC,0BAAU,KAAK,IAAL,CAAV,EAAsB,IAAtB;AACH,aAFD;AAGH,SALD;AAMH;;AAED,aAAS,SAAT,CAAmB,IAAnB,EAAyB,IAAzB,EAA+B,KAA/B,EAAsC;AAClC,YAAI,KAAK,EAAL,IAAW,KAAK,QAAhB,KAA6B,KAAK,cAAL,CAAoB,KAAK,EAAzB,KAAgC,KAA7D,CAAJ,EAAyE;AACrE,iBAAK,QAAL,CAAc,KAAK,KAAK,EAAV,CAAd,EADqE,CACvC;AACjC;AACD,SAAC,mBAAG,MAAH,CAAU,KAAK,gBAAf,KAAoC,EAArC,EAAyC,OAAzC,CAAiD,UAAU,IAAV,EAAgB;AAC7D,sBAAU,IAAV,EAAgB,IAAhB,EAAsB,KAAtB;AACH,SAFD;AAGH;AACJ","file":"setValueViewModel.js","sourcesContent":["import ko from 'knockout';\r\n\r\nexport default function setValueViewModel(node) {\r\n    let context = this;\r\n\r\n    if (context.data) {\r\n        context.data.subscribe(data => {\r\n            let dict = context.dictionary();\r\n            Object.keys(dict).forEach(function (node) {\r\n                _setValue(dict[node], data);\r\n            })\r\n        })\r\n    }\r\n\r\n    function _setValue(node, data, clear) {\r\n        if (node.id && node.setValue && (data.hasOwnProperty(node.id) || clear)) {\r\n            node.setValue(data[node.id]); //pass as object with value key?\r\n        }\r\n        (ko.unwrap(node.mappedChildNodes) || []).forEach(function (node) {\r\n            _setValue(node, data, clear);\r\n        });\r\n    }\r\n};\r\n"]}