{"version":3,"sources":["../../../src/action/actions/redirect.js"],"names":["redirect","options","target","console","error","data","params","paramsKey","url","render","window","location","replace"],"mappings":";;AAAA;;AACA;;;;AACA;;AACA;;;;;;AAGA,SAASA,QAAT,CAAkBC,OAAlB,EAA2B;AACvB,QAAI,CAACA,QAAQC,MAAb,EAAqB;AACjBC,gBAAQC,KAAR,CAAc,sBAAd;AACA;AACH;;AAED,QAAIC,OAAO,sBAAOJ,QAAQI,IAAR,IAAiB,QAAQ,KAAKA,IAArC,CAAX;AAAA,QACIC,eADJ;;AAGA,QAAIL,QAAQK,MAAR,IAAkBL,QAAQM,SAA9B,EAAyC;AACrCF,eAAO,oBAAMA,IAAN,EAAYJ,QAAQA,QAAQM,SAAhB,CAAZ,CAAP;AACH;;AAED,QAAIC,MAAM,mBAASC,MAAT,CAAgBR,QAAQC,MAAxB,EAAgCG,IAAhC,CAAV;;AAEAK,WAAOC,QAAP,CAAgBC,OAAhB,CAAwBJ,GAAxB;AACH;AACD,mCAAgB,EAACR,kBAAD,EAAhB","file":"redirect.js","sourcesContent":["import { registerActions } from 'scalejs.metadatafactory-common/dist/action/actionModule';\nimport { unwrap } from 'knockout';\nimport { merge } from 'scalejs';\nimport mustache from 'mustache';\nimport ko from 'knockout';\n\nfunction redirect(options) {\n    if (!options.target) {\n        console.error(\"Must provide target!\");\n        return;\n    }\n\n    let data = unwrap(options.data || (this && this.data)),\n        params;\n\n    if (options.params && options.paramsKey) {\n        data = merge(data, options[options.paramsKey]);\n    }\n\n    var url = mustache.render(options.target, data);\n\n    window.location.replace(url);\n}\nregisterActions({redirect});\n"]}