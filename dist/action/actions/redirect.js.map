{"version":3,"sources":["../../../src/action/actions/redirect.js"],"names":[],"mappings":";;AAAA;;AACA;;;;AACA;;AACA;;;;;;AAGA,SAAS,QAAT,CAAkB,OAAlB,EAA2B;AACvB,QAAI,CAAC,QAAQ,MAAb,EAAqB;AACjB,gBAAQ,KAAR,CAAc,sBAAd;AACA;AACH;;AAED,QAAI,OAAO,sBAAO,QAAQ,IAAR,IAAiB,QAAQ,KAAK,IAArC,CAAX;AAAA,QACI,eADJ;;AAGA,QAAI,QAAQ,MAAR,IAAkB,QAAQ,SAA9B,EAAyC;AACrC,eAAO,oBAAM,IAAN,EAAY,QAAQ,QAAQ,SAAhB,CAAZ,CAAP;AACH;;AAED,QAAI,MAAM,mBAAS,MAAT,CAAgB,QAAQ,MAAxB,EAAgC,IAAhC,CAAV;;AAEA,WAAO,QAAP,CAAgB,OAAhB,CAAwB,GAAxB;AACH;AACD,mCAAgB,EAAC,kBAAD,EAAhB","file":"redirect.js","sourcesContent":["import { registerActions } from 'scalejs.metadatafactory-common/dist/action/actionModule';\r\nimport { unwrap } from 'knockout';\r\nimport { merge } from 'scalejs';\r\nimport mustache from 'mustache';\r\nimport ko from 'knockout';\r\n\r\nfunction redirect(options) {\r\n    if (!options.target) {\r\n        console.error(\"Must provide target!\");\r\n        return;\r\n    }\r\n\r\n    let data = unwrap(options.data || (this && this.data)),\r\n        params;\r\n\r\n    if (options.params && options.paramsKey) {\r\n        data = merge(data, options[options.paramsKey]);\r\n    }\r\n\r\n    var url = mustache.render(options.target, data);\r\n\r\n    window.location.replace(url);\r\n}\r\nregisterActions({redirect});\r\n"]}